<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="modelGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4285f4;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#1a73e8;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="toolGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#34a853;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#137333;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="orchestGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fbbc04;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#f29900;stop-opacity:0.9" />
    </linearGradient>
    <linearGradient id="reasoningGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ea4335;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#d33b2c;stop-opacity:0.9" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="3" flood-color="#000" flood-opacity="0.2"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
    <marker id="redArrow" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#d33b2c" />
    </marker>
  </defs>
  
  <!-- 背景 -->
  <rect width="1200" height="800" fill="#f8f9fa"/>
  
  <!-- 标题 -->
  <text x="600" y="30" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:24px; font-weight:bold; fill:#202124;">
    AI Agent Complete Architecture Framework
  </text>
  <text x="600" y="50" text-anchor="middle" style="font-family:'宋体',serif; font-size:14px; fill:#5f6368;">
    基于Google《Agents》白皮书的完整架构解析
  </text>
  
  <!-- 模型层 -->
  <rect x="50" y="80" width="300" height="140" rx="15" fill="url(#modelGrad)" filter="url(#shadow)"/>
  <text x="200" y="105" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:16px; font-weight:bold; fill:#fff;">
    Model Layer (模型层)
  </text>
  <text x="60" y="130" style="font-family:'宋体',serif; font-size:11px; fill:#fff;">
    • 大语言模型 (LLM): GPT, Gemini, Claude
  </text>
  <text x="60" y="145" style="font-family:'Times New Roman',serif; font-size:11px; fill:#fff;">
    • Multi-modal Models (多模态模型)
  </text>
  <text x="60" y="160" style="font-family:'Times New Roman',serif; font-size:11px; fill:#fff;">
    • Fine-tuning &amp; Optimization
  </text>
  <text x="60" y="175" style="font-family:'宋体',serif; font-size:11px; fill:#fff;">
    • 核心决策引擎 (Decision Engine)
  </text>
  <text x="60" y="195" style="font-family:'Times New Roman',serif; font-size:10px; fill:#fff;">
    Performance = f(推理能力, 工具调用准确性, 上下文管理)
  </text>
  
  <!-- 推理框架层 -->
  <rect x="50" y="240" width="300" height="120" rx="15" fill="url(#reasoningGrad)" filter="url(#shadow)"/>
  <text x="200" y="265" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:16px; font-weight:bold; fill:#fff;">
    Reasoning Frameworks
  </text>
  
  <!-- ReAct -->
  <rect x="60" y="280" width="80" height="65" rx="8" fill="#fff" fill-opacity="0.9"/>
  <text x="100" y="295" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:11px; font-weight:bold; fill:#d33b2c;">
    ReAct
  </text>
  <text x="65" y="310" style="font-family:'宋体',serif; font-size:9px; fill:#d33b2c;">
    推理+行动
  </text>
  <text x="65" y="322" style="font-family:'宋体',serif; font-size:9px; fill:#d33b2c;">
    迭代执行
  </text>
  <text x="65" y="334" style="font-family:'宋体',serif; font-size:9px; fill:#d33b2c;">
    动态调用
  </text>
  
  <!-- CoT -->
  <rect x="150" y="280" width="80" height="65" rx="8" fill="#fff" fill-opacity="0.9"/>
  <text x="190" y="295" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:11px; font-weight:bold; fill:#d33b2c;">
    CoT
  </text>
  <text x="155" y="310" style="font-family:'宋体',serif; font-size:9px; fill:#d33b2c;">
    链式推理
  </text>
  <text x="155" y="322" style="font-family:'宋体',serif; font-size:9px; fill:#d33b2c;">
    逐步分解
  </text>
  <text x="155" y="334" style="font-family:'宋体',serif; font-size:9px; fill:#d33b2c;">
    逻辑清晰
  </text>
  
  <!-- ToT -->
  <rect x="240" y="280" width="80" height="65" rx="8" fill="#fff" fill-opacity="0.9"/>
  <text x="280" y="295" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:11px; font-weight:bold; fill:#d33b2c;">
    ToT
  </text>
  <text x="245" y="310" style="font-family:'宋体',serif; font-size:9px; fill:#d33b2c;">
    树状思维
  </text>
  <text x="245" y="322" style="font-family:'宋体',serif; font-size:9px; fill:#d33b2c;">
    并行探索
  </text>
  <text x="245" y="334" style="font-family:'宋体',serif; font-size:9px; fill:#d33b2c;">
    最优路径
  </text>
  
  <!-- 编排层 -->
  <rect x="400" y="80" width="300" height="480" rx="15" fill="url(#orchestGrad)" filter="url(#shadow)"/>
  <text x="550" y="105" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:16px; font-weight:bold; fill:#fff;">
    Orchestration Layer (编排层)
  </text>
  
  <!-- 认知循环 -->
  <text x="550" y="130" text-anchor="middle" style="font-family:'宋体',serif; font-size:12px; font-weight:bold; fill:#fff;">
    认知循环 (Cognitive Loop)
  </text>
  
  <!-- 感知阶段 -->
  <ellipse cx="550" cy="180" rx="70" ry="40" fill="#fff" fill-opacity="0.9" stroke="#f29900" stroke-width="3"/>
  <text x="550" y="170" text-anchor="middle" style="font-family:'宋体',serif; font-size:11px; font-weight:bold; fill:#f29900;">
    感知阶段
  </text>
  <text x="550" y="185" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:9px; fill:#f29900;">
    Perception
  </text>
  <text x="550" y="195" text-anchor="middle" style="font-family:'宋体',serif; font-size:8px; fill:#f29900;">
    信息理解·上下文分析
  </text>
  
  <!-- 规划阶段 -->
  <ellipse cx="550" cy="270" rx="70" ry="40" fill="#fff" fill-opacity="0.9" stroke="#f29900" stroke-width="3"/>
  <text x="550" y="260" text-anchor="middle" style="font-family:'宋体',serif; font-size:11px; font-weight:bold; fill:#f29900;">
    规划阶段
  </text>
  <text x="550" y="275" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:9px; fill:#f29900;">
    Planning
  </text>
  <text x="550" y="285" text-anchor="middle" style="font-family:'宋体',serif; font-size:8px; fill:#f29900;">
    策略制定·工具选择
  </text>
  
  <!-- 执行阶段 -->
  <ellipse cx="550" cy="360" rx="70" ry="40" fill="#fff" fill-opacity="0.9" stroke="#f29900" stroke-width="3"/>
  <text x="550" y="350" text-anchor="middle" style="font-family:'宋体',serif; font-size:11px; font-weight:bold; fill:#f29900;">
    执行阶段
  </text>
  <text x="550" y="365" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:9px; fill:#f29900;">
    Execution
  </text>
  <text x="550" y="375" text-anchor="middle" style="font-family:'宋体',serif; font-size:8px; fill:#f29900;">
    工具调用·行动执行
  </text>
  
  <!-- 反馈阶段 -->
  <ellipse cx="550" cy="450" rx="70" ry="40" fill="#fff" fill-opacity="0.9" stroke="#f29900" stroke-width="3"/>
  <text x="550" y="440" text-anchor="middle" style="font-family:'宋体',serif; font-size:11px; font-weight:bold; fill:#f29900;">
    反馈阶段
  </text>
  <text x="550" y="455" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:9px; fill:#f29900;">
    Feedback
  </text>
  <text x="550" y="465" text-anchor="middle" style="font-family:'宋体',serif; font-size:8px; fill:#f29900;">
    结果评估·策略调整
  </text>
  
  <!-- 循环箭头 -->
  <path d="M 480 180 Q 460 140 500 120 Q 590 120 620 180" fill="none" stroke="#f29900" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 620 270 Q 640 310 600 330 Q 520 330 480 270" fill="none" stroke="#f29900" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 550 310 L 550 320" fill="none" stroke="#f29900" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 550 400 L 550 410" fill="none" stroke="#f29900" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 480 450 Q 460 490 420 450 Q 420 180 480 180" fill="none" stroke="#f29900" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- 状态管理 -->
  <rect x="430" y="500" width="240" height="50" rx="8" fill="#fff" fill-opacity="0.9" stroke="#f29900" stroke-width="2"/>
  <text x="550" y="520" text-anchor="middle" style="font-family:'宋体',serif; font-size:12px; font-weight:bold; fill:#f29900;">
    状态管理 (State Management)
  </text>
  <text x="440" y="535" style="font-family:'Times New Roman',serif; font-size:10px; fill:#f29900;">
    Session History • Context Maintenance • Memory Buffer
  </text>
  <text x="440" y="545" style="font-family:'宋体',serif; font-size:9px; fill:#f29900;">
    会话历史 • 上下文维护 • 记忆缓冲
  </text>
  
  <!-- 工具层 -->
  <rect x="750" y="80" width="400" height="480" rx="15" fill="url(#toolGrad)" filter="url(#shadow)"/>
  <text x="950" y="105" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:16px; font-weight:bold; fill:#fff;">
    Tools Ecosystem (工具生态系统)
  </text>
  
  <!-- Extensions -->
  <rect x="770" y="130" width="180" height="110" rx="8" fill="#fff" fill-opacity="0.9"/>
  <text x="860" y="150" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:14px; font-weight:bold; fill:#137333;">
    Extensions (扩展)
  </text>
  <text x="780" y="170" style="font-family:'宋体',serif; font-size:10px; fill:#137333;">
    • API 标准化桥接
  </text>
  <text x="780" y="185" style="font-family:'Times New Roman',serif; font-size:10px; fill:#137333;">
    • Google Search/Maps API
  </text>
  <text x="780" y="200" style="font-family:'宋体',serif; font-size:10px; fill:#137333;">
    • 代理端执行
  </text>
  <text x="780" y="215" style="font-family:'宋体',serif; font-size:10px; fill:#137333;">
    • 动态工具选择
  </text>
  <text x="780" y="230" style="font-family:'Times New Roman',serif; font-size:9px; fill:#137333;">
    成功率 = f(意图理解, 参数提取, 异常处理)
  </text>
  
  <!-- Functions -->
  <rect x="960" y="130" width="180" height="110" rx="8" fill="#fff" fill-opacity="0.9"/>
  <text x="1050" y="150" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:14px; font-weight:bold; fill:#137333;">
    Functions (函数)
  </text>
  <text x="970" y="170" style="font-family:'宋体',serif; font-size:10px; fill:#137333;">
    • 客户端执行
  </text>
  <text x="970" y="185" style="font-family:'宋体',serif; font-size:10px; fill:#137333;">
    • 安全隔离机制
  </text>
  <text x="970" y="200" style="font-family:'宋体',serif; font-size:10px; fill:#137333;">
    • 批处理支持
  </text>
  <text x="970" y="215" style="font-family:'宋体',serif; font-size:10px; fill:#137333;">
    • 人工审核流程
  </text>
  <text x="970" y="230" style="font-family:'Times New Roman',serif; font-size:9px; fill:#137333;">
    执行: 模型→函数+参数→客户端→结果
  </text>
  
  <!-- Data Stores -->
  <rect x="770" y="260" width="370" height="120" rx="8" fill="#fff" fill-opacity="0.9"/>
  <text x="955" y="280" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:14px; font-weight:bold; fill:#137333;">
    Data Stores (数据存储) - RAG Pipeline
  </text>
  <text x="780" y="300" style="font-family:'Times New Roman',serif; font-size:10px; fill:#137333;">
    • Vector Database (向量数据库) • Embedding Models
  </text>
  <text x="780" y="315" style="font-family:'宋体',serif; font-size:10px; fill:#137333;">
    • 文档检索 • 知识增强 • 实时更新
  </text>
  <text x="780" y="330" style="font-family:'Times New Roman',serif; font-size:10px; fill:#137333;">
    • Structured/Unstructured Data • PDF/CSV/Web Content
  </text>
  <text x="780" y="350" style="font-family:'Times New Roman',serif; font-size:9px; fill:#137333;">
    相似度计算: similarity = cos(θ) = (A·B)/(||A||×||B||)
  </text>
  <text x="780" y="365" style="font-family:'Times New Roman',serif; font-size:9px; fill:#137333;">
    检索效果 = precision@k × recall@k × diversity × 响应时间⁻¹
  </text>
  
  <!-- 工具对比表 -->
  <rect x="770" y="400" width="370" height="150" rx="8" fill="#e8f5e8" stroke="#137333" stroke-width="2"/>
  <text x="955" y="420" text-anchor="middle" style="font-family:'宋体',serif; font-size:12px; font-weight:bold; fill:#137333;">
    工具类型对比分析
  </text>
  
  <!-- 表头 -->
  <text x="790" y="440" style="font-family:'Times New Roman',serif; font-size:10px; font-weight:bold; fill:#137333;">Feature</text>
  <text x="880" y="440" style="font-family:'Times New Roman',serif; font-size:10px; font-weight:bold; fill:#137333;">Extensions</text>
  <text x="980" y="440" style="font-family:'Times New Roman',serif; font-size:10px; font-weight:bold; fill:#137333;">Functions</text>
  <text x="1080" y="440" style="font-family:'Times New Roman',serif; font-size:10px; font-weight:bold; fill:#137333;">Data Stores</text>
  
  <!-- 分割线 -->
  <line x1="780" y1="445" x2="1130" y2="445" stroke="#137333" stroke-width="1"/>
  
  <!-- 执行位置 -->
  <text x="790" y="460" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">执行位置</text>
  <text x="880" y="460" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">代理端</text>
  <text x="980" y="460" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">客户端</text>
  <text x="1080" y="460" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">代理端</text>
  
  <!-- 主要优势 -->
  <text x="790" y="480" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">主要优势</text>
  <text x="880" y="480" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">自动化高</text>
  <text x="980" y="480" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">安全可控</text>
  <text x="1080" y="480" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">知识灵活</text>
  
  <!-- 延迟特性 -->
  <text x="790" y="500" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">延迟特性</text>
  <text x="880" y="500" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">实时响应</text>
  <text x="980" y="500" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">批处理</text>
  <text x="1080" y="500" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">检索延迟</text>
  
  <!-- 适用场景 -->
  <text x="790" y="520" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">适用场景</text>
  <text x="880" y="520" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">API集成</text>
  <text x="980" y="520" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">安全操作</text>
  <text x="1080" y="520" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">知识问答</text>
  
  <!-- 开发复杂度 -->
  <text x="790" y="540" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">开发复杂度</text>
  <text x="880" y="540" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">低</text>
  <text x="980" y="540" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">中等</text>
  <text x="1080" y="540" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">中等</text>
  
  <!-- 连接线 -->
  <path d="M 350 140 L 400 140" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 350 300 L 400 300" fill="none" stroke="#d33b2c" stroke-width="2" marker-end="url(#redArrow)"/>
  <path d="M 700 300 L 750 300" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- 用户输入 -->
  <rect x="50" y="400" width="160" height="70" rx="10" fill="#e8f0fe" stroke="#1a73e8" stroke-width="2"/>
  <text x="130" y="425" text-anchor="middle" style="font-family:'宋体',serif; font-size:14px; font-weight:bold; fill:#1a73e8;">
    用户查询输入
  </text>
  <text x="130" y="445" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:12px; fill:#1a73e8;">
    User Query Input
  </text>
  <text x="60" y="460" style="font-family:'宋体',serif; font-size:9px; fill:#1a73e8;">• 自然语言指令</text>
  
  <!-- 输出结果 -->
  <rect x="50" y="490" width="160" height="70" rx="10" fill="#e8f5e8" stroke="#137333" stroke-width="2"/>
  <text x="130" y="515" text-anchor="middle" style="font-family:'宋体',serif; font-size:14px; font-weight:bold; fill:#137333;">
    智能代理响应
  </text>
  <text x="130" y="535" text-anchor="middle" style="font-family:'Times New Roman',serif; font-size:12px; fill:#137333;">
    Agent Response
  </text>
  <text x="60" y="550" style="font-family:'宋体',serif; font-size:9px; fill:#137333;">• 结果+执行轨迹</text>
  
  <!-- 连接线 -->
  <path d="M 210 435 L 400 250" fill="none" stroke="#1a73e8" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 400 450 L 210 525" fill="none" stroke="#137333" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- GPU优化区域 -->
  <rect x="50" y="580" width="300" height="100" rx="10" fill="#fff3cd" stroke="#f29900" stroke-width="2"/>
  <text x="200" y="600" text-anchor="middle" style="font-family:'宋体',serif; font-size:12px; font-weight:bold; fill:#f29900;">
    GPU优化策略 (Performance Optimization)
  </text>
  <text x="60" y="620" style="font-family:'Times New Roman',serif; font-size:10px; fill:#f29900;">
    • Tensor并行: export CUDA_VISIBLE_DEVICES=0,1,2,3
  </text>
  <text x="60" y="635" style="font-family:'Times New Roman',serif; font-size:10px; fill:#f29900;">
    • 动态批处理: batch_size = min(max_batch, memory/model_mem)
  </text>
  <text x="60" y="650" style="font-family:'Times New Roman',serif; font-size:10px; fill:#f29900;">
    • KV Cache: speedup = 原始时间/(Cache时间+增量时间)
  </text>
  <text x="60" y="665" style="font-family:'Times New Roman',serif; font-size:10px; fill:#f29900;">
    • 量化压缩: 内存节省 = (1-量化位数/原始位数)×模型大小
  </text>
  
  <!-- 性能评估公式 -->
  <rect x="400" y="580" width="300" height="100" rx="10" fill="#fce8e6" stroke="#d33b2c" stroke-width="2"/>
  <text x="550" y="600" text-anchor="middle" style="font-family:'宋体',serif; font-size:12px; font-weight:bold; fill:#d33b2c;">
    性能优化公式 (Performance Metrics)
  </text>
  <text x="410" y="620" style="font-family:'Times New Roman',serif; font-size:10px; fill:#d33b2c;">
    性能提升 = f(基础能力, 示例质量, 上下文长度, 任务相关性)
  </text>
  <text x="410" y="635" style="font-family:'Times New Roman',serif; font-size:10px; fill:#d33b2c;">
    微调损失 = CrossEntropy + λ×正则化 + μ×知识蒸馏损失
  </text>
  <text x="410" y="650" style="font-family:'Times New Roman',serif; font-size:10px; fill:#d33b2c;">
    系统效率 = Σ(专业代理效率×权重) × 协调成本⁻¹
  </text>
  <text x="410" y="665" style="font-family:'Times New Roman',serif; font-size:10px; fill:#d33b2c;">
    总成本优化 = max(性能/成本比)
  </text>
  
  <!-- 代理链协作 -->
  <rect x="750" y="580" width="400" height="100" rx="10" fill="#e8eaed" stroke="#5f6368" stroke-width="2"/>
  <text x="950" y="600" text-anchor="middle" style="font-family:'宋体',serif; font-size:12px; font-weight:bold; fill:#5f6368;">
    代理链协作 (Agent Chaining) - 未来趋势
  </text>
  <text x="760" y="620" style="font-family:'宋体',serif; font-size:10px; fill:#5f6368;">
    任务分解 → 专业代理分配 → 并行执行 → 结果整合 → 质量评估
  </text>
  <text x="760" y="635" style="font-family:'Times New Roman',serif; font-size:10px; fill:#5f6368;">
    • 金融: 风控+投资分析+合规审查 • 医疗: 症状+影像+治疗建议
  </text>
  <text x="760" y="650" style="font-family:'Times New Roman',serif; font-size:10px; fill:#5f6368;">
    • 软件: 需求分析+代码生成+测试 • 多模态: 视觉+语音+文本
  </text>
  <text x="760" y="665" style="font-family:'Times New Roman',serif; font-size:10px; fill:#5f6368;">
    协作效率 = Σ(专业代理_i效率 × 权重_i) × 协调成本⁻¹
  </text>
  
  <!-- 版权信息 -->
  <text x="1100" y="790" text-anchor="end" style="font-family:'宋体',serif; font-size:8px; fill:#9aa0a6;">
    基于Google《Agents》白皮书 | AI代理技术架构解析
  </text>
</svg>