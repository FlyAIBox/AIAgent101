{
  "name": "N8Nï¼šä¸ªäººæ—…æ¸¸è§„åˆ’åŠ©æ‰‹-comment",
  "nodes": [
    {
      "parameters": {
        "content": "## ğŸ¯ N8Nä¸ªäººæ—…æ¸¸è§„åˆ’åŠ©æ‰‹\n\n**è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„AIé©±åŠ¨çš„æ—…æ¸¸è§„åˆ’ç³»ç»Ÿï¼Œèƒ½å¤Ÿè‡ªåŠ¨æœç´¢èˆªç­å’Œé…’åº—ï¼Œå¹¶ç”Ÿæˆä¸ªæ€§åŒ–çš„æ¨èé‚®ä»¶ã€‚**\n\n### å·¥ä½œæµæ¦‚è§ˆï¼š\n1. **ğŸ“ ç”¨æˆ·è¾“å…¥** - é€šè¿‡è¡¨å•æ”¶é›†æ—…è¡Œéœ€æ±‚\n2. **âœˆï¸ èˆªç­æœç´¢** - ä½¿ç”¨Google Flights APIæœç´¢èˆªç­\n3. **ğŸ¨ é…’åº—æœç´¢** - å¹¶è¡Œæœç´¢Airbnbã€Booking.comã€Agoda\n4. **ğŸ¤– AIåˆ†æ** - ä½¿ç”¨Gemini AIåˆ†æå¹¶ç”Ÿæˆæ¨è\n5. **ğŸ“§ é‚®ä»¶å‘é€** - å‘é€ä¸ªæ€§åŒ–æ¨èé‚®ä»¶\n\n### æŠ€æœ¯ç‰¹ç‚¹ï¼š\n- å¤šå¹³å°æ•°æ®èšåˆ\n- AIæ™ºèƒ½æ¨è\n- å¼‚æ­¥æ•°æ®å¤„ç†\n- å¾ªç¯çŠ¶æ€æ£€æŸ¥\n- HTMLé‚®ä»¶æ¨¡æ¿",
        "height": 496,
        "width": 446,
        "color": 3
      },
      "id": "5bda7ace-c767-4bbb-b4f9-70d2bf17b55b",
      "name": "å·¥ä½œæµæ¦‚è§ˆ",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1872,
        -432
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## ğŸ“ ç”¨æˆ·è¾“å…¥å¤„ç†æ¨¡å—\n\n**åŠŸèƒ½ï¼š** æ”¶é›†ç”¨æˆ·çš„æ—…è¡Œéœ€æ±‚ä¿¡æ¯\n\n### å…³é”®èŠ‚ç‚¹ï¼š\n- **1-On form submission** - è¡¨å•è§¦å‘å™¨ï¼Œæ”¶é›†ç”¨æˆ·è¾“å…¥\n- **Extract form submission to JSON** - ä½¿ç”¨Gemini AIå°†è¡¨å•æ•°æ®è½¬æ¢ä¸ºç»“æ„åŒ–JSON\n- **Parse JSON** - è§£æAIè¿”å›çš„JSONæ•°æ®\n\n### å¤„ç†çš„æ•°æ®ï¼š\n- å‡ºå‘åœ°å’Œç›®çš„åœ°\n- å‡ºå‘å’Œè¿”å›æ—¥æœŸ\n- æˆäººå’Œå„¿ç«¥æ•°é‡\n- å® ç‰©å’Œæˆ¿é—´éœ€æ±‚\n- æ—…è¡Œåå¥½æè¿°",
        "height": 552,
        "width": 988
      },
      "id": "5bba059c-5aa8-4091-9497-b46677a55d9c",
      "name": "ç”¨æˆ·è¾“å…¥å¤„ç†",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1872,
        240
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## âœˆï¸ èˆªç­æœç´¢æ¨¡å—\n\n**åŠŸèƒ½ï¼š** æœç´¢æœ€ä½³èˆªç­é€‰é¡¹\n\n### å…³é”®èŠ‚ç‚¹ï¼š\n- **Google_flights search** - ä½¿ç”¨SerpApiæœç´¢Google Flights\n- **Take JSON key** - æå–èˆªç­æ•°æ®çš„å…³é”®å­—æ®µ\n- **Extract JSON to flight recommendation email** - ä½¿ç”¨Gemini AIç”Ÿæˆèˆªç­æ¨èé‚®ä»¶\n- **Send Flight Recommendation** - å‘é€èˆªç­æ¨èé‚®ä»¶\n\n### æœç´¢å‚æ•°ï¼š\n- å‡ºå‘å’Œåˆ°è¾¾æœºåœºä»£ç \n- èˆªç­æ—¥æœŸå’Œç±»å‹\n- ä¹˜å®¢æ•°é‡å’Œèˆ±ä½ç­‰çº§",
        "height": 424,
        "width": 652,
        "color": 4
      },
      "id": "365f935e-3603-437f-aa99-c6f782a9bb59",
      "name": "èˆªç­æœç´¢æ¨¡å—",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -832,
        -400
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## ğŸ¨ é…’åº—æœç´¢æ¨¡å—\n\n**åŠŸèƒ½ï¼š** å¹¶è¡Œæœç´¢å¤šä¸ªå¹³å°çš„é…’åº—ä¿¡æ¯\n\n### å…³é”®èŠ‚ç‚¹ï¼š\n- **Airbnb Properties** - æœç´¢Airbnbæˆ¿æº\n- **Booking Hotel Listings** - æœç´¢Booking.comé…’åº—\n- **Agoda Properties** - æœç´¢Agodaé…’åº—\n- **Combine to get a snapshot first** - åˆå¹¶ä¸‰ä¸ªå¹³å°çš„æœç´¢ç»“æœ\n\n### æœç´¢å¹³å°ï¼š\n- Airbnb (æ°‘å®¿å’ŒçŸ­ç§Ÿ)\n- Booking.com (é…’åº—é¢„è®¢)\n- Agoda (äºšæ´²é…’åº—)\n\n### æ•°æ®æŠ“å–ï¼š\nä½¿ç”¨BrightDataè¿›è¡Œç½‘é¡µæ•°æ®æŠ“å–",
        "height": 592,
        "width": 652,
        "color": 4
      },
      "id": "2c995cf8-77e3-4907-a249-11319ab93d31",
      "name": "é…’åº—æœç´¢æ¨¡å—",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -816,
        304
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## ğŸ”„ å¼‚æ­¥æ•°æ®å¤„ç†å¾ªç¯\n\n**åŠŸèƒ½ï¼š** å¤„ç†å¼‚æ­¥æ•°æ®æŠ“å–å’ŒçŠ¶æ€æ£€æŸ¥\n\n### å…³é”®èŠ‚ç‚¹ï¼š\n- **Sequential polling with loop** - å¾ªç¯å¤„ç†å¤šä¸ªæ•°æ®æº\n- **Check the status snapshot** - æ£€æŸ¥æ•°æ®æŠ“å–çŠ¶æ€\n- **StatusCheck** - åˆ¤æ–­æ•°æ®æ˜¯å¦å‡†å¤‡å°±ç»ª\n- **Wait loop** - ç­‰å¾…æ•°æ®å‡†å¤‡å®Œæˆ\n\n### å¾ªç¯é€»è¾‘ï¼š\n1. å¯åŠ¨ä¸‰ä¸ªå¹³å°çš„å¹¶è¡Œæœç´¢\n2. å¾ªç¯æ£€æŸ¥æ¯ä¸ªæœç´¢çš„çŠ¶æ€\n3. ç­‰å¾…æ‰€æœ‰æ•°æ®å‡†å¤‡å®Œæˆ\n4. ä¸‹è½½æŠ“å–çš„æ•°æ®å†…å®¹",
        "height": 776,
        "width": 1228,
        "color": 4
      },
      "id": "27431f6f-81bd-4766-9b17-45148f3d089f",
      "name": "å¼‚æ­¥æ•°æ®å¤„ç†",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        544,
        112
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## ğŸ¤– AIæ™ºèƒ½æ¨èæ¨¡å—\n\n**åŠŸèƒ½ï¼š** ä½¿ç”¨AIåˆ†ææ•°æ®å¹¶ç”Ÿæˆä¸ªæ€§åŒ–æ¨è\n\n### å…³é”®èŠ‚ç‚¹ï¼š\n- **Extract from scrape to email ready to send** - ä½¿ç”¨Gemini AIåˆ†æé…’åº—æ•°æ®\n- **Take AI result** - èšåˆAIåˆ†æç»“æœ\n- **Combine all AI result** - åˆå¹¶æ‰€æœ‰æ¨èç»“æœ\n- **Take hotel_recommendation in JSON** - æ ¼å¼åŒ–æ¨èæ•°æ®\n\n### AIåˆ†æå†…å®¹ï¼š\n- ä»·æ ¼åŒ¹é…åº¦åˆ†æ\n- ä½ç½®å’Œä¾¿åˆ©æ€§è¯„ä¼°\n- è®¾æ–½å’Œè¯„ä»·åˆ†æ\n- ä¸ªæ€§åŒ–æ¨èç†ç”±\n- HTMLé‚®ä»¶æ¨¡æ¿ç”Ÿæˆ",
        "height": 872,
        "width": 1132,
        "color": 4
      },
      "id": "eaf9f252-7c43-4d21-ab51-48196f3f2531",
      "name": "AIæ™ºèƒ½æ¨è",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1792,
        -240
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## ğŸ“§ é‚®ä»¶å‘é€æ¨¡å—\n\n**åŠŸèƒ½ï¼š** å‘é€ä¸ªæ€§åŒ–æ¨èé‚®ä»¶ç»™ç”¨æˆ·\n\n### å…³é”®èŠ‚ç‚¹ï¼š\n- **Send hotel recommendation** - å‘é€é…’åº—æ¨èé‚®ä»¶\n- **Send Flight Recommendation** - å‘é€èˆªç­æ¨èé‚®ä»¶\n\n### é‚®ä»¶ç‰¹ç‚¹ï¼š\n- HTMLæ ¼å¼çš„ä¸“ä¸šé‚®ä»¶æ¨¡æ¿\n- åŒ…å«ç›´æ¥é¢„è®¢é“¾æ¥\n- ä¸ªæ€§åŒ–æ¨èç†ç”±\n- ç§»åŠ¨ç«¯å‹å¥½çš„è®¾è®¡\n- å“ç‰ŒåŒ–çš„è§†è§‰è®¾è®¡\n\n### å‘é€å†…å®¹ï¼š\n- æœ€ä½³èˆªç­æ¨è\n- æœ€ä½³é…’åº—æ¨è\n- è¯¦ç»†çš„ä»·æ ¼å’Œé¢„è®¢ä¿¡æ¯",
        "height": 488,
        "width": 780,
        "color": 4
      },
      "id": "39d9c815-53b4-48a2-add7-bdb5c259aac7",
      "name": "é‚®ä»¶å‘é€æ¨¡å—",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        960,
        -464
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "content": "## âš™ï¸ æŠ€æœ¯æ¶æ„è¯´æ˜\n\n### ä½¿ç”¨çš„APIå’ŒæœåŠ¡ï¼š\n- **Google Gemini AI** - æ•°æ®åˆ†æå’Œæ¨èç”Ÿæˆ\n- **SerpApi** - Google Flightsæœç´¢\n- **BrightData** - ç½‘é¡µæ•°æ®æŠ“å–\n- **Gmail API** - é‚®ä»¶å‘é€\n\n### å·¥ä½œæµç‰¹ç‚¹ï¼š\n- **å¹¶è¡Œå¤„ç†** - åŒæ—¶æœç´¢å¤šä¸ªå¹³å°\n- **å¼‚æ­¥ç­‰å¾…** - æ™ºèƒ½ç­‰å¾…æ•°æ®å‡†å¤‡\n- **é”™è¯¯å¤„ç†** - åŒ…å«é‡è¯•æœºåˆ¶\n- **æ•°æ®èšåˆ** - å¤šæºæ•°æ®æ•´åˆ\n- **AIå¢å¼º** - æ™ºèƒ½æ¨èå’Œä¸ªæ€§åŒ–\n\n### æ‰©å±•å»ºè®®ï¼š\n- æ·»åŠ æ›´å¤šé…’åº—å¹³å°\n- é›†æˆå¤©æ°”å’Œæ™¯ç‚¹ä¿¡æ¯\n- æ·»åŠ ä»·æ ¼ç›‘æ§åŠŸèƒ½",
        "height": 480,
        "width": 414,
        "color": 3
      },
      "id": "8c2c0c96-d730-4bf4-8b41-3e4759ba8032",
      "name": "æŠ€æœ¯æ¶æ„è¯´æ˜",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1376,
        -416
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "formTitle": "è§„åˆ’ä½ çš„å®Œç¾æ—…ç¨‹",
        "formFields": {
          "values": [
            {
              "fieldLabel": "Departure City",
              "placeholder": "è¯·è¾“å…¥å‡ºå‘åŸå¸‚ï¼ˆä¾‹å¦‚ï¼šåŒ—äº¬ï¼‰"
            },
            {
              "fieldLabel": "Destination City",
              "placeholder": "è¯·è¾“å…¥ç›®çš„åœ°ï¼ˆä¾‹å¦‚ï¼š ä¸œäº¬ï¼‰"
            },
            {
              "fieldLabel": "Email Address",
              "fieldType": "email",
              "placeholder": "è¯·è¾“å…¥ä½ çš„é‚®ç®±åœ°å€"
            },
            {
              "fieldLabel": "Departure Date",
              "fieldType": "date",
              "requiredField": true
            },
            {
              "fieldLabel": "Return Date",
              "fieldType": "date"
            },
            {
              "fieldLabel": "Number of Adults",
              "fieldType": "number",
              "placeholder": "è¯·è¾“å…¥æˆäººæ•°é‡ï¼ˆ13å²åŠä»¥ä¸Šï¼‰",
              "requiredField": true
            },
            {
              "fieldLabel": "Number of Children",
              "fieldType": "number",
              "placeholder": "è¯·è¾“å…¥å„¿ç«¥æ•°é‡ï¼ˆ2â€“12å²ï¼‰",
              "requiredField": true
            },
            {
              "fieldLabel": "Number of Infants",
              "fieldType": "number",
              "placeholder": "è¯·è¾“å…¥å©´å„¿æ•°é‡ï¼ˆ2å²ä»¥ä¸‹ï¼‰",
              "requiredField": true
            },
            {
              "fieldLabel": "Number of Pets",
              "fieldType": "number",
              "placeholder": "è¯·è¾“å…¥æºå¸¦å® ç‰©æ•°é‡",
              "requiredField": true
            },
            {
              "fieldLabel": "Number of Rooms",
              "fieldType": "number",
              "placeholder": "è¯·è¾“å…¥æ‰€éœ€æˆ¿é—´æ•°é‡"
            },
            {
              "fieldLabel": "Travel Preferences",
              "fieldType": "textarea",
              "placeholder": "è¯·æè¿°æ­¤æ¬¡è¡Œç¨‹åå¥½ï¼ˆå¦‚ï¼šåå¥½çš„ä½å®¿ç±»å‹ã€æ´»åŠ¨æˆ–ç‰¹æ®Šéœ€æ±‚ï¼‰"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.2,
      "position": [
        -1696,
        496
      ],
      "id": "ed2e98fe-d40c-45f9-9a39-bc928abf4747",
      "name": "On form submission",
      "webhookId": "e07b905d-832e-474a-804e-ea65285712be"
    },
    {
      "parameters": {
        "operation": "google_flights",
        "departure_id": "={{ $json.google_flights.departure_id }}",
        "arrival_id": "={{ $json.google_flights.arrival_id }}",
        "outbound_date": "={{ $json.google_flights.outbound_date }}",
        "return_date": "={{ $json.google_flights.return_date }}",
        "type": "={{ $json.google_flights.type }}",
        "additionalFields": {
          "travel_class": "={{ $json.google_flights.travel_class }}",
          "adults": "={{ $json.google_flights.adults }}",
          "children": "={{ $json.google_flights.children }}",
          "infants_in_seat": "={{ $json.google_flights.infants_in_seat }}"
        },
        "requestOptions": {}
      },
      "type": "n8n-nodes-serpapi.serpApi",
      "typeVersion": 1,
      "position": [
        -368,
        -160
      ],
      "id": "683b0ea4-c099-4445-aa36-0e0c7f3b28d1",
      "name": "Google_flights search",
      "credentials": {
        "serpApi": {
          "id": "wCNryTzqLxK5N8t8",
          "name": "SerpApi account"
        }
      }
    },
    {
      "parameters": {
        "resource": "webScrapper",
        "operation": "downloadSnapshot",
        "snapshot_id": "={{ $json.snapshot_id }}",
        "requestOptions": {}
      },
      "type": "@brightdata/n8n-nodes-brightdata.brightData",
      "typeVersion": 1,
      "position": [
        2064,
        176
      ],
      "id": "448fa587-8a2a-4099-80dc-67b53edf574d",
      "name": "Download the snapshot content",
      "credentials": {
        "brightdataApi": {
          "id": "l65cHd8G2adHt8EF",
          "name": "BrightData account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "05660868-de08-46e3-b771-78cd1bbf3296",
              "leftValue": "={{ $json.status }}",
              "rightValue": "ready",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1536,
        336
      ],
      "id": "da39fd04-53e7-430f-b0a4-0861ceb7aa8b",
      "name": "StatusCheck"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.0-flash",
          "mode": "list",
          "cachedResultName": "models/gemini-2.0-flash"
        },
        "messages": {
          "values": [
            {
              "content": "=Below is data from form submission\n{{$json.toJsonString()}}"
            },
            {
              "content": "You are given a travel form submission in JSON format from the n8n Form Trigger node.\nYour task is to transform this input into two JSON objects:\n\n- Google Flights SERP API (n8n verified node)\n- A Home Stay (Airbnb, Booking.com)"
            },
            {
              "content": "=Input Fields from Form Submission Node\n- \"Departure City\" â†’ Origin city/airport (string)\n- \"Destination City\" â†’ Destination city/airport (string)\n- \"Departure Date\" â†’ Departure date (date, required)\n- \"Return Date\" â†’ Return date (date, optional)\n- \"Number of Adults\" â†’ Number of adults (integer, required)\n- \"Number of Children\" â†’ Number of children aged 13+ (integer, required)\n- \"Number of Infants\" â†’ Number of children aged 2â€“12 (integer, required)\n- \"Number of Pets\" â†’ Number of pets (integer, required â€” use only in Airbnb)\n- \"Travel Preferences\" â†’ Free text description (string, optional, not used in output)"
            },
            {
              "content": "=Transformation Rules\n\nGoogle Flights Object :\n- \"departure_id\" = Convert {{ $json[\"Departure City\"] }} city/airport â†’ IATA code of main international airport.\n- \"arrival_id\" = Convert {{ $json[\"Destination City\"] }} city/airport â†’ IATA code of main international airport.\n- \"outbound_date\" = {{ $json[\"Departure Date\"] }} (YYYY-MM-DD).\n- \"return_date\" = {{ $json[\"Return Date\"] }} (YYYY-MM-DD).\n- \"type\" values:\n  - 1 = roundtrip (if Return Date exists).\n  - 2 = one-way (if only Departure Date exists).\n  - 3 = multi-city (if multiple destinations are given).\n- \"travel_class\": always 1 (economy) unless stated otherwise.\n- \"currency\" = \"USD\".\n- \"adults\" = {{ $json[\"Number of Adults\"] }}.\n- \"children\" = {{ $json[\"Number of Children\"] }}.\n- \"infants_in_seat\" = {{ $json[\"Number of Infants\"] }}.\n- \"hl\" = \"en\".\n\n\nHome Stay Object :\n- \"location\" = {{ $json[\"Destination City\"] }}.\n- \"check_in\" = {{ $json[\"Departure Date\"] }} in full ISO format (YYYY-MM-DDT00:00:00.000Z).\n- \"check_out\" = {{ $json[\"Return Date\"] }} in full ISO format (YYYY-MM-DDT00:00:00.000Z).\n- \"num_of_adults\" = {{ $json[\"Number of Adults\"] }}.\n- \"num_of_children\" = {{ $json[\"Number of Children\"] }}.\n- \"num_of_infants\" = {{ $json[\"Number of Infants\"] }}.\n- \"num_of_pets\" = {{ $json[\"Number of Pets\"] }}.\n- \"num_of_rooms\" = {{ $json[\"Number of Rooms\"] }}.\n- \"country\" = \"US\"."
            },
            {
              "content": "Output Format\n\nReturn the final answer as only JSON in the following structure (no explanation, no extra text):\n{\n  \"google_flights\": {\n    \"departure_id\": \"string(IATA code departure_id)\",\n    \"arrival_id\": \"string(IATA code arrival_id)\",\n    \"outbound_date\": \"string(outbound_date)\",\n    \"return_date\": \"string(return_date)\",\n    \"type\": number(type),\n    \"currency\": \"string(currency)\",\n    \"adults\": number(adults),\n    \"children\": number(children),\n    \"infants_in_seat\": number(infants_in_seat),\n    \"travel_class\": number(travel_class),\n    \"hl\": \"string(hl)\"\n  },\n  \"homestay_preferences\": {\n    \"location\": \"string(location)\",\n    \"check_in\": \"string(check_in)\",\n    \"check_out\": \"string(check_out)\",\n    \"num_of_adults\": number(num_of_adults),\n    \"num_of_children\": number(num_of_children),\n    \"num_of_infants\": number(num_of_infants),\n    \"num_of_pets\": number(num_of_pets),\n    \"num_of_rooms\": number(num_of_rooms),\n    \"country\": \"string(country)\"\n  }\n}"
            }
          ]
        },
        "jsonOutput": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        -1392,
        496
      ],
      "id": "1b4973ef-d399-4074-995f-406ead40eeb8",
      "name": "Extract form submission to JSON",
      "alwaysOutputData": true,
      "credentials": {
        "googlePalmApi": {
          "id": "12KiryYsMrX43jr6",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "return JSON.parse($input.first().json.content.parts[0].text)"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1040,
        496
      ],
      "id": "65050b9a-4371-4cbd-b91a-5bf70c826272",
      "name": "Parse JSON"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.brightdata.com/datasets/v3/trigger?dataset_id=gd_ld7ll037kqy322v05&include_errors=true&type=discover_new&discover_by=location&limit_per_input=3",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "brightdataApi",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "location",
              "value": "={{ $json.homestay_preferences.location }}"
            },
            {
              "name": "=check_in",
              "value": "={{ $json.homestay_preferences.check_in }}"
            },
            {
              "name": "check_out",
              "value": "={{ $json.homestay_preferences.check_out }}"
            },
            {
              "name": "num_of_adults",
              "value": "={{ $json.homestay_preferences.num_of_adults }}"
            },
            {
              "name": "=num_of_infants",
              "value": "={{ $json.homestay_preferences.num_of_infants }}"
            },
            {
              "name": "num_of_children",
              "value": "={{ $json.homestay_preferences.num_of_children }}"
            },
            {
              "name": "num_of_pets",
              "value": "={{ $json.homestay_preferences.num_of_pets }}"
            },
            {
              "name": "country",
              "value": "={{ $json.homestay_preferences.country }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -368,
        304
      ],
      "id": "71526339-9be9-4a59-8aae-6f4453781861",
      "name": "Bright data : Airbnb Properties Information - discover by location",
      "credentials": {
        "brightdataApi": {
          "id": "l65cHd8G2adHt8EF",
          "name": "BrightData account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.brightdata.com/datasets/v3/trigger?dataset_id=gd_mdy9ld3p1e0oqlj9g4&include_errors=true&type=discover_new&discover_by=search_input&limit_per_input=3",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "brightdataApi",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "=https://www.booking.com"
            },
            {
              "name": "location",
              "value": "={{ $json.homestay_preferences.location }}"
            },
            {
              "name": "check_in",
              "value": "={{ $json.homestay_preferences.check_in }}"
            },
            {
              "name": "adults",
              "value": "={{ $json.homestay_preferences.num_of_adults }}"
            },
            {
              "name": "children",
              "value": "={{ $json.homestay_preferences.num_of_children }}"
            },
            {
              "name": "country",
              "value": "={{ $json.homestay_preferences.country }}"
            },
            {
              "name": "rooms",
              "value": "={{ $json.homestay_preferences.num_of_rooms }}"
            },
            {
              "name": "check_out",
              "value": "={{ $json.homestay_preferences.check_out }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -368,
        512
      ],
      "id": "5fd91002-8ea5-49fe-bb7e-e22d303aa4ec",
      "name": "Bright Data : Booking Hotel Listings with Pricing - discover by search input",
      "credentials": {
        "brightdataApi": {
          "id": "l65cHd8G2adHt8EF",
          "name": "BrightData account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "reset": true
        }
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        960,
        320
      ],
      "id": "314a659f-62f2-48d7-8523-863080c093e9",
      "name": "Sequential polling with loop"
    },
    {
      "parameters": {
        "resource": "webScrapper",
        "operation": "monitorProgressSnapshot",
        "snapshot_id": "={{ $json.snapshot_id }}",
        "requestOptions": {}
      },
      "type": "@brightdata/n8n-nodes-brightdata.brightData",
      "typeVersion": 1,
      "position": [
        1264,
        336
      ],
      "id": "16e6814d-0157-4116-afa8-7565ea706acd",
      "name": "Check the status snapshot",
      "credentials": {
        "brightdataApi": {
          "id": "l65cHd8G2adHt8EF",
          "name": "BrightData account"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.brightdata.com/datasets/v3/trigger?dataset_id=gd_mdyifvvo181pcrpew6&include_errors=true&type=discover_new&discover_by=search_input&limit_per_input=3",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "brightdataApi",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "=https://www.agoda.com"
            },
            {
              "name": "location",
              "value": "={{ $json.homestay_preferences.location }}"
            },
            {
              "name": "check_in",
              "value": "={{ $json.homestay_preferences.check_in }}"
            },
            {
              "name": "adults",
              "value": "={{ $json.homestay_preferences.num_of_adults }}"
            },
            {
              "name": "children",
              "value": "={{ $json.homestay_preferences.num_of_children }}"
            },
            {
              "name": "country",
              "value": "={{ $json.homestay_preferences.country }}"
            },
            {
              "name": "check_out",
              "value": "={{ $json.homestay_preferences.check_out }}"
            }
          ]
        },
        "options": {
          "lowercaseHeaders": false
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        -368,
        720
      ],
      "id": "3d6c39d4-e460-42b2-b9cc-a417f53cdd59",
      "name": "Bright Data : Agoda Properties Listings with Pricing - discover by search input",
      "credentials": {
        "brightdataApi": {
          "id": "l65cHd8G2adHt8EF",
          "name": "BrightData account"
        }
      }
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        0,
        480
      ],
      "id": "8e36dda8-c264-4037-8f31-38e2088b59ed",
      "name": "Combine to get a snapshot first"
    },
    {
      "parameters": {
        "jsCode": "return [\n  {\n    json: {\n      source: 'airbnb',\n      snapshot_id: items[0].json.snapshot_id\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        256,
        288
      ],
      "id": "2dbff7f5-45b1-4305-be32-7a313f3e405d",
      "name": "Put airbnb snapshot_id"
    },
    {
      "parameters": {
        "jsCode": "return [\n  {\n    json: {\n      source: 'booking',\n      snapshot_id: items[1].json.snapshot_id\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        256,
        496
      ],
      "id": "11e4e736-aaee-430e-8e23-4141116938dd",
      "name": "Put booking snapshot_id"
    },
    {
      "parameters": {
        "jsCode": "return [\n  {\n    json: {\n      source: 'agoda',\n      snapshot_id: items[2].json.snapshot_id\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        256,
        704
      ],
      "id": "7b5a6d1a-0ff2-4b29-abc8-3c9185a2fc7f",
      "name": "Put agoda snapshot_id"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "name": "Check snapshot again for success",
      "typeVersion": 1,
      "position": [
        1536,
        672
      ],
      "id": "93974777-48f8-4328-9008-027e9a2ccbf4"
    },
    {
      "parameters": {
        "amount": 1,
        "unit": "minutes"
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        1840,
        448
      ],
      "id": "53f7e533-471e-44c3-a884-723c0635597a",
      "name": "Wait loop",
      "webhookId": "32aa0c7c-6c62-487b-b733-5b0ff8870434"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.0-flash",
          "mode": "list",
          "cachedResultName": "models/gemini-2.0-flash"
        },
        "messages": {
          "values": [
            {
              "content": "ä½ æ˜¯ä¸€åä¸“ä¸šæ—…è¡Œé¡¾é—® AIã€‚è¯·åŸºäºæä¾›çš„é…’åº—æ•°æ®ä¸ç”¨æˆ·åå¥½ï¼Œç”Ÿæˆ TOP 3 é…’åº—æ¨èï¼Œä»¥ HTML é‚®ä»¶æ ¼å¼å‘ˆç°ã€‚"
            },
            {
              "content": "=æ—…å®¢åå¥½ï¼š\nå‡ºå‘åœ°ï¼š{{ $('On form submission').first().json[\"Departure City\"] }}\nç›®çš„åœ°ï¼š{{ $('On form submission').first().json[\"Destination City\"] }}\nå‡ºå‘æ—¥æœŸï¼š{{ $('On form submission').first().json[\"Departure Date\"] }}\nè¿”ç¨‹æ—¥æœŸï¼š{{ $('On form submission').first().json[\"Return Date\"] }}\næˆäººï¼š{{ $('On form submission').first().json[\"Number of Adults\"] }}\nå„¿ç«¥ï¼š{{ $('On form submission').first().json[\"Number of Children\"] }}\nå©´å„¿ï¼š{{ $('On form submission').first().json[\"Number of Infants\"] }}\nå® ç‰©ï¼š{{ $('On form submission').first().json[\"Number of Pets\"] }}\nå‡ºè¡Œæè¿°ï¼š{{ $('On form submission').first().json[\"Travel Preferences\"] }}\n"
            },
            {
              "content": "=é…’åº—æ¸…å•ï¼š\n{{ $json.toJsonString() }}\n\n*æç¤ºï¼šé…’åº—æ•°æ®å¯èƒ½æ¥è‡ªå¤šä¸ªå¹³å°ï¼ŒåŒ…æ‹¬ Airbnbã€Booking.com å’Œ Agoda*"
            },
            {
              "content": "## ä»»åŠ¡ï¼š\n1. åˆ†æä¸åŒ¹é…ï¼šåŸºäºä»¥ä¸‹ç»´åº¦ä¸ºæ¯å®¶é…’åº—è¯„åˆ†ï¼š\n   - é¢„ç®—åŒ¹é…åº¦ï¼ˆæ˜¯å¦åœ¨ä»·æ ¼èŒƒå›´å†…ï¼‰\n   - ä½ç½®åŒ¹é…åº¦\n   - è®¾æ–½åå¥½åŒ¹é…åº¦\n   - æ—¥æœŸå¯ç”¨æ€§\n   - ç‰¹æ®Šéœ€æ±‚åŒ¹é…åº¦\n\n2. é€‰æ‹©æœ€ä¼˜ï¼šæŒ‘é€‰æœ€ç¬¦åˆéœ€æ±‚çš„ä¸€å®¶é…’åº—ä½œä¸ºæ¨è\n\n3. ç”Ÿæˆ HTML é‚®ä»¶ï¼šåˆ›å»ºå®Œæ•´çš„ HTML é‚®ä»¶å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š"
            },
            {
              "content": "### é‚®ä»¶ç»“æ„è¦æ±‚ï¼š\n\n**é‡è¦ï¼šç›´æ¥è¾“å‡ºå®Œæ•´çš„HTMLé‚®ä»¶ï¼Œä¸è¦åŒ…å«ä»»ä½•Markdownä»£ç å—ã€åˆ†éš”ç¬¦æˆ–é¢å¤–æ–‡æœ¬ï¼**\n\né‚®ä»¶å¿…é¡»åŒ…å«ä»¥ä¸‹ç»“æ„ï¼š\n\n1. **HTMLæ–‡æ¡£ç»“æ„**ï¼š\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>é…’åº—æ¨è</title>\n</head>\n<body style=\"font-family:Arial,sans-serif;line-height:1.6;color:#333;max-width:600px;margin:0 auto;padding:20px;background-color:#f8f9fa;\">\n  [é‚®ä»¶å†…å®¹]\n</body>\n</html>\n```\n\n2. **é‚®ä»¶å¤´éƒ¨**ï¼š\n- æ ‡é¢˜ï¼š\"ä¸º [ç›®çš„åœ°] ç²¾é€‰çš„å®Œç¾é…’åº—â€”â€”æœ€ä½³åŒ¹é…ï¼\"\n- é—®å€™ï¼š\"äº²çˆ±çš„æ—…å®¢ï¼Œ\"\n- è¡Œç¨‹ä»‹ç»ï¼šåŒ…å«å‡ºå‘åœ°ã€ç›®çš„åœ°ã€æ—¥æœŸã€äººæ•°ç­‰ä¿¡æ¯\n\n3. **æ¨èé…’åº—å¡ç‰‡**ï¼š\n```html\n<div style=\"border:2px solid #2c5aa0;margin:20px 0;padding:25px;border-radius:12px;max-width:580px;background:linear-gradient(135deg, #f8f9ff 0%, #ffffff 100%);box-shadow:0 4px 6px rgba(0,0,0,0.1);\">\n  <div style=\"text-align:center;margin-bottom:20px;\">\n    <h2 style=\"color:#2c5aa0;margin:0 0 5px 0;font-size:24px;font-weight:bold;\">ğŸ† æˆ‘ä»¬çš„é¦–é€‰æ¨è</h2>\n    <h3 style=\"color:#2c5aa0;margin:0 0 10px 0;font-size:20px;font-weight:normal;\">[é…’åº—åç§°]</h3>\n  </div>\n  <p style=\"color:#888;font-size:12px;margin:0 0 15px 0;text-align:center;\">â­ æ¥æºäº [å¹³å°åç§°] â€¢ æœ€ç¬¦åˆä½ éœ€æ±‚</p>\n  <div style=\"background:#f8f9fa;padding:15px;border-radius:8px;margin:10px 0;\">\n    <p style=\"color:#666;margin:8px 0;font-size:14px;\"><strong>ğŸ“ ä½ç½®ï¼š</strong> [å…·ä½“ä½ç½®]</p>\n    <p style=\"color:#666;margin:8px 0;font-size:14px;\"><strong>ğŸ’° ä»·æ ¼ï¼š</strong> $[æ¯æ™šä»·æ ¼]/æ™š | æ€»è®¡ï¼š$[æ€»ä»·]</p>\n    <p style=\"color:#666;margin:8px 0;font-size:14px;\"><strong>â­ è¯„åˆ†ï¼š</strong> [è¯„åˆ†] ([åˆ†æ•°]/10)</p>\n    <p style=\"color:#666;margin:8px 0;font-size:14px;\"><strong>âœ¨ è®¾æ–½ï¼š</strong> [ä¸»è¦è®¾æ–½]</p>\n  </div>\n  <p style=\"margin:15px 0;font-size:16px;line-height:1.6;color:#333;\">[è¯¦ç»†æ¨èç†ç”±å’ŒåŒ¹é…è¯´æ˜]</p>\n  <div style=\"text-align:center;margin:20px 0;\">\n    <a href=\"[é¢„è®¢é“¾æ¥]\" style=\"background:#2c5aa0;color:white;padding:15px 30px;text-decoration:none;border-radius:8px;display:inline-block;font-size:16px;font-weight:bold;box-shadow:0 2px 4px rgba(0,0,0,0.2);\">ğŸ”— åœ¨ [å¹³å°åç§°] ä¸Šç«‹å³é¢„è®¢</a>\n  </div>\n</div>\n```\n\n4. **é‚®ä»¶é¡µè„š**ï¼š\n- ä¸“ä¸šç»“æŸè¯­\n- è”ç³»ä¿¡æ¯\n- \"å¦‚æœ‰ç–‘é—®ï¼Œç›´æ¥å›å¤æœ¬é‚®ä»¶\"\n\n**è¾“å‡ºè¦æ±‚ï¼š**\n- ç›´æ¥è¾“å‡ºå®Œæ•´HTMLï¼Œä¸è¦ä»»ä½•```html```æ ‡è®°\n- ä¸è¦åŒ…å«---åˆ†éš”ç¬¦\n- ç¡®ä¿æ‰€æœ‰å†…å®¹å±…ä¸­å¯¹é½ï¼ˆé™¤äº†å¡ç‰‡å†…çš„è¯¦ç»†ä¿¡æ¯ï¼‰\n- ä½¿ç”¨ç»Ÿä¸€çš„å­—ä½“å’Œé¢œè‰²æ–¹æ¡ˆ"
            },
            {
              "content": "æ ·å¼è§„èŒƒï¼š\n\n**æ•´ä½“å¸ƒå±€ï¼š**\n- æœ€å¤§å®½åº¦ï¼š600px\n- å±…ä¸­å¯¹é½ï¼šmargin: 0 auto\n- å†…è¾¹è·ï¼š20px\n- èƒŒæ™¯è‰²ï¼š#f8f9fa\n\n**å­—ä½“è§„èŒƒï¼š**\n- ä¸»å­—ä½“ï¼šArial, sans-serif\n- æ ‡é¢˜ï¼š24px, 20px\n- æ­£æ–‡ï¼š16px, 14px\n- å°å­—ï¼š12px\n- è¡Œé«˜ï¼š1.6\n\n**é¢œè‰²æ–¹æ¡ˆï¼š**\n- ä¸»è‰²è°ƒï¼š#2c5aa0ï¼ˆè“è‰²ï¼‰\n- æ–‡å­—ï¼š#333ï¼ˆæ·±ç°ï¼‰\n- æ¬¡è¦æ–‡å­—ï¼š#666ï¼ˆä¸­ç°ï¼‰\n- æç¤ºæ–‡å­—ï¼š#888ï¼ˆæµ…ç°ï¼‰\n\n**å¯¹é½è¦æ±‚ï¼š**\n- é‚®ä»¶æ ‡é¢˜ï¼šå±…ä¸­\n- é—®å€™è¯­ï¼šå±…ä¸­\n- è¡Œç¨‹ä¿¡æ¯ï¼šå±…ä¸­\n- é…’åº—å¡ç‰‡ï¼šå±…ä¸­\n- å¡ç‰‡å†…è¯¦ç»†ä¿¡æ¯ï¼šå·¦å¯¹é½\n- é¢„è®¢æŒ‰é’®ï¼šå±…ä¸­\n- é¡µè„šï¼šå±…ä¸­\n\n**é‡è¦æé†’ï¼š**\n- ä¸è¦ä½¿ç”¨Markdownæ ¼å¼\n- ä¸è¦åŒ…å«ä»£ç å—æ ‡è®°\n- ä¸è¦æ·»åŠ åˆ†éš”ç¬¦\n- ç¡®ä¿HTMLæ ¼å¼æ­£ç¡®\n- æ‰€æœ‰æ ·å¼ä½¿ç”¨å†…è”CSS"
            },
            {
              "content": "è¾“å‡ºæ ¼å¼è¦æ±‚ï¼š\n\n**ä¸¥æ ¼éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š**\n\n1. **ç›´æ¥è¾“å‡ºHTML**ï¼šä¸è¦åŒ…å«```html```ã€```ã€---ç­‰ä»»ä½•æ ‡è®°\n2. **å®Œæ•´HTMLæ–‡æ¡£**ï¼šä»<!DOCTYPE html>å¼€å§‹ï¼Œåˆ°</html>ç»“æŸ\n3. **å†…å®¹å±…ä¸­**ï¼šé™¤äº†å¡ç‰‡å†…çš„è¯¦ç»†ä¿¡æ¯å¤–ï¼Œæ‰€æœ‰å†…å®¹éƒ½è¦å±…ä¸­å¯¹é½\n4. **ç»Ÿä¸€æ’ç‰ˆ**ï¼šä½¿ç”¨ä¸€è‡´çš„å­—ä½“å¤§å°ã€é¢œè‰²å’Œé—´è·\n5. **ç§»åŠ¨ç«¯å‹å¥½**ï¼šç¡®ä¿åœ¨æ‰‹æœºä¸Šä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤º\n\n**ç¦æ­¢åŒ…å«ï¼š**\n- Markdownä»£ç å—æ ‡è®°\n- åˆ†éš”ç¬¦ï¼ˆ---ï¼‰\n- å¤šä½™çš„HTMLæ ‡è®°\n- ä¸è§„èŒƒçš„ç¼©è¿›\n\n**å¿…é¡»åŒ…å«ï¼š**\n- å®Œæ•´çš„HTMLæ–‡æ¡£ç»“æ„\n- ä¸“ä¸šçš„é‚®ä»¶æ ·å¼\n- å±…ä¸­å¯¹é½çš„å¸ƒå±€\n- æ¸…æ™°çš„é…’åº—æ¨èä¿¡æ¯\n- å¯ç‚¹å‡»çš„é¢„è®¢é“¾æ¥\n\n**ç¤ºä¾‹è¾“å‡ºæ ¼å¼ï¼š**\nç›´æ¥ä»¥<!DOCTYPE html>å¼€å¤´ï¼Œä»¥</html>ç»“å°¾ï¼Œä¸­é—´åŒ…å«å®Œæ•´çš„é‚®ä»¶å†…å®¹ï¼Œä¸è¦ä»»ä½•é¢å¤–æ ‡è®°ã€‚"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        2304,
        176
      ],
      "id": "86e5f53d-aeaf-4c9c-ab48-14fb05aefeac",
      "name": "Extract from scrape to email ready to send",
      "retryOnFail": true,
      "credentials": {
        "googlePalmApi": {
          "id": "12KiryYsMrX43jr6",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "content.parts[0].text",
              "renameField": true,
              "outputFieldName": "hotel_recommendation"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        2688,
        176
      ],
      "id": "a567e4b3-e33a-4e4c-a057-f373961b50b8",
      "name": "Take AI result"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "17f93348-b3cd-416b-8748-2d3fd1507a4c",
              "leftValue": "={{$input.all()}}",
              "rightValue": "={{ Number(3) }}",
              "operator": {
                "type": "array",
                "operation": "lengthEquals",
                "rightType": "number"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2288,
        464
      ],
      "id": "26ddfc24-2bb4-4f7b-92c4-064c8c02e6d2",
      "name": "Checking loop finish"
    },
    {
      "parameters": {
        "jsCode": "let results = [],\n  i = 0;\n\ndo {\n  try {\n    results = results.concat($('Take AI result').all(0, i));\n  } catch (error) {\n    return results;\n  }\n  i++;\n} while (true);\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2096,
        464
      ],
      "id": "c577c0c4-d35e-45df-8d01-3b7483188f08",
      "name": "Combine all AI result"
    },
    {
      "parameters": {
        "jsCode": "let allHotels = [];\nitems.forEach(item => {\n  if (item.json.hotel_recommendation) {\n    allHotels.push(...item.json.hotel_recommendation);\n  }\n});\n\nreturn [{\n  json: {\n    emailBody: allHotels.join(\"\\n\\n---\\n\\n\")\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2528,
        448
      ],
      "id": "f8db0b90-ec0e-4fa3-83c0-3046ad94c704",
      "name": "Take hotel_recommendation in JSON to before send to email"
    },
    {
      "parameters": {
        "sendTo": "={{ $('On form submission').first().json[\"Email Address\"] }}",
        "subject": "Your Hotel Recommendation",
        "message": "={{ $json.emailBody }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        2736,
        448
      ],
      "id": "a6d71455-75fb-4b95-9ebd-69f276546cf2",
      "name": "Send hotel recommendation",
      "webhookId": "5852d21c-bf4d-4668-81be-f3959dc15ccd",
      "credentials": {
        "gmailOAuth2": {
          "id": "zq2VO4836Nm8fvsH",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "={{ $('On form submission').first().json[\"Email Address\"] }}",
        "subject": "Your Flight Recommendation",
        "message": "={{ $json.emailBody[0] }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.1,
      "position": [
        1520,
        -160
      ],
      "id": "ccaf46b8-e5b5-49d5-b369-f0ca6c1d39b3",
      "name": "Send Flight Recommendation",
      "webhookId": "5852d21c-bf4d-4668-81be-f3959dc15ccd",
      "credentials": {
        "gmailOAuth2": {
          "id": "zq2VO4836Nm8fvsH",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "amount": 45
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        1840,
        176
      ],
      "id": "641400fd-4d69-453d-a832-08c2371032fe",
      "name": "Wait before download the snapshot",
      "webhookId": "93b56a7d-0839-4747-869f-b6561eba0131"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "bdb98b8b-8933-4703-b922-6e210886b981",
              "name": "google_flights_url",
              "value": "={{ $json.search_metadata.google_flights_url }}",
              "type": "string"
            },
            {
              "id": "adf4aabd-c788-4dba-b75d-37fcdd93fbd0",
              "name": "parameters",
              "value": "={{ $json.search_parameters }}",
              "type": "object"
            },
            {
              "id": "b6553536-8e6a-434b-862f-3497523b4a10",
              "name": "best_flights",
              "value": "={{ $json.best_flights }}",
              "type": "array"
            },
            {
              "id": "dad93317-f61a-47ef-aab5-c57bc04a55bc",
              "name": "other_flights",
              "value": "={{ $json.other_flights }}",
              "type": "array"
            },
            {
              "id": "c59c67ec-e417-461f-9ccf-20bd737184e1",
              "name": "airports",
              "value": "={{ $json.airports }}",
              "type": "array"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        0,
        -160
      ],
      "id": "93bf3e80-ad03-4e56-8f23-8782034dcce4",
      "name": "Take JSON key"
    },
    {
      "parameters": {
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "content.parts[0].text",
              "renameField": true,
              "outputFieldName": "emailBody"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        576,
        -160
      ],
      "id": "6d76e1f6-b48a-4200-88c9-0d8c94aefec3",
      "name": "Take AI result1"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.5-flash",
          "mode": "list",
          "cachedResultName": "models/gemini-2.5-flash"
        },
        "messages": {
          "values": [
            {
              "content": "=ä½ æ˜¯ä¸€åä¸“ä¸šæ—…è¡Œé¡¾é—® AIã€‚è¯·åŸºäºæä¾›çš„èˆªç­æ•°æ®ä¸ç”¨æˆ·åå¥½ï¼Œç”Ÿæˆ 1 æ¡æœ€ä½³èˆªç­æ¨èï¼ˆHTML é‚®ä»¶æ ¼å¼ï¼‰ã€‚"
            },
            {
              "content": "=## è¾“å…¥æ•°æ®ï¼š\nå¯é€‰èˆªç­ï¼š{{$json}}\nç”¨æˆ·åå¥½ï¼š\nå‡ºå‘åœ°ï¼š{{ $('On form submission').first().json[\"Departure City\"] }}\nç›®çš„åœ°ï¼š{{ $('On form submission').first().json[\"Destination City\"] }}\nå‡ºå‘æ—¥æœŸï¼š{{ $('On form submission').first().json[\"Departure Date\"] }}\nè¿”ç¨‹æ—¥æœŸï¼š{{ $('On form submission').first().json[\"Return Date\"] }}\næˆäººï¼š{{ $('On form submission').first().json[\"Number of Adults\"] }}\nå„¿ç«¥ï¼š{{ $('On form submission').first().json['Number of Children'] }}\nå©´å„¿ï¼š{{ $('On form submission').first().json['Number of Infants'] }}\nå® ç‰©ï¼š{{ $('On form submission').first().json['Number of Pets'] }}\nå‡ºè¡Œæè¿°ï¼š{{ $('On form submission').first().json[\"Travel Preferences\"] }}\nGoogle Flights é“¾æ¥ï¼š\n{{ $json.google_flights_url }}\n\n*æç¤ºï¼šèˆªç­æ•°æ®æ¥è‡ª Google Flights*"
            },
            {
              "content": "## ä»»åŠ¡ï¼š\n1. åˆ†æä¸åŒ¹é…ï¼šåŸºäºä»¥ä¸‹ç»´åº¦ä¸ºæ¯ä¸ªèˆªç­è¯„åˆ†ï¼š\n   - ä»·æ ¼åŒ¹é…åº¦ï¼ˆæ˜¯å¦åœ¨é¢„ç®—èŒƒå›´å†…ï¼‰\n   - æ—¶é—´åå¥½ï¼ˆèµ·é™æ—¶é—´ï¼‰\n   - æ€»æ—¶é•¿ä¸ç»åœæ¬¡æ•°\n   - èˆªå¸åå¥½\n   - èˆ±ä½è¦æ±‚\n   - ä¸­è½¬ä¾¿åˆ©æ€§\n\n2. é€‰æ‹©æœ€ä½³ï¼šæŒ‘é€‰æœ€ç¬¦åˆéœ€æ±‚çš„ä¸€æ¡èˆªç­æ–¹æ¡ˆ\n\n3. ç”Ÿæˆ HTML é‚®ä»¶ï¼šåˆ›å»ºå®Œæ•´çš„ HTML é‚®ä»¶å†…å®¹ï¼ŒåŒ…æ‹¬ï¼š"
            },
            {
              "content": "### èˆªç­æ¨èé‚®ä»¶ç»“æ„è¦æ±‚ï¼š\n\n**é‡è¦ï¼šç›´æ¥è¾“å‡ºå®Œæ•´çš„HTMLé‚®ä»¶ï¼Œä¸è¦åŒ…å«ä»»ä½•Markdownä»£ç å—ã€åˆ†éš”ç¬¦æˆ–é¢å¤–æ–‡æœ¬ï¼**\n\né‚®ä»¶å¿…é¡»åŒ…å«ä»¥ä¸‹ç»“æ„ï¼š\n\n1. **HTMLæ–‡æ¡£ç»“æ„**ï¼š\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"UTF-8\">\n  <title>èˆªç­æ¨è</title>\n</head>\n<body style=\"font-family:Arial,sans-serif;line-height:1.6;color:#333;max-width:600px;margin:0 auto;padding:20px;background-color:#f8f9fa;\">\n  [é‚®ä»¶å†…å®¹]\n</body>\n</html>\n```\n\n2. **é‚®ä»¶å¤´éƒ¨**ï¼š\n- æ ‡é¢˜ï¼š\"å‰å¾€ [ç›®çš„åœ°] çš„æœ€ä½³èˆªç­â€”â€”ä¸ºä½ ç²¾é€‰ï¼\"\n- é—®å€™ï¼š\"äº²çˆ±çš„æ—…å®¢ï¼Œ\"\n- è¡Œç¨‹ä»‹ç»ï¼šåŒ…å«å‡ºå‘åœ°ã€ç›®çš„åœ°ã€æ—¥æœŸã€äººæ•°ç­‰ä¿¡æ¯\n\n3. **æ¨èèˆªç­å¡ç‰‡**ï¼š\n```html\n<div style=\"border:2px solid #1e88e5;margin:20px 0;padding:25px;border-radius:12px;max-width:580px;background:linear-gradient(135deg, #f0f8ff 0%, #ffffff 100%);box-shadow:0 4px 6px rgba(0,0,0,0.1);\">\n  <div style=\"text-align:center;margin-bottom:20px;\">\n    <h2 style=\"color:#1e88e5;margin:0 0 5px 0;font-size:24px;font-weight:bold;\">âœˆï¸ æˆ‘ä»¬çš„èˆªç­é¦–é€‰æ¨è</h2>\n    <h3 style=\"color:#1e88e5;margin:0 0 10px 0;font-size:18px;font-weight:normal;\">[å‡ºå‘åŸå¸‚] â†’ [åˆ°è¾¾åŸå¸‚]</h3>\n  </div>\n  \n  <!-- å»ç¨‹èˆªç­ -->\n  <div style=\"background:#f8f9fa;padding:15px;border-radius:8px;margin:15px 0;\">\n    <h4 style=\"color:#1e88e5;margin:0 0 10px 0;font-size:16px;\">ğŸ›« å»ç¨‹ - [å‡ºå‘æ—¥æœŸ]</h4>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>èˆªå¸ï¼š</strong> [èˆªå¸åç§°] â€¢ èˆªç­ [èˆªç­å·]</p>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>èµ·é£ï¼š</strong> [èµ·é£æ—¶é—´] äº [å‡ºå‘æœºåœº]ï¼ˆ[æœºåœºä»£ç ]ï¼‰</p>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>åˆ°è¾¾ï¼š</strong> [åˆ°è¾¾æ—¶é—´] äº [åˆ°è¾¾æœºåœº]ï¼ˆ[æœºåœºä»£ç ]ï¼‰</p>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>æ—¶é•¿ï¼š</strong> [é£è¡Œæ—¶é•¿]</p>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>ç»åœï¼š</strong> [ç»åœä¿¡æ¯]</p>\n  </div>\n  \n  <!-- è¿”ç¨‹èˆªç­ï¼ˆè‹¥ä¸ºå¾€è¿”ï¼‰ -->\n  <div style=\"background:#f8f9fa;padding:15px;border-radius:8px;margin:15px 0;\">\n    <h4 style=\"color:#1e88e5;margin:0 0 10px 0;font-size:16px;\">ğŸ›¬ è¿”ç¨‹ - [è¿”ç¨‹æ—¥æœŸ]</h4>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>èˆªå¸ï¼š</strong> [è¿”ç¨‹èˆªå¸] â€¢ èˆªç­ [è¿”ç¨‹èˆªç­å·]</p>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>èµ·é£ï¼š</strong> [è¿”ç¨‹èµ·é£æ—¶é—´] äº [è¿”ç¨‹å‡ºå‘æœºåœº]ï¼ˆ[æœºåœºä»£ç ]ï¼‰</p>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>åˆ°è¾¾ï¼š</strong> [è¿”ç¨‹åˆ°è¾¾æ—¶é—´] äº [è¿”ç¨‹åˆ°è¾¾æœºåœº]ï¼ˆ[æœºåœºä»£ç ]ï¼‰</p>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>æ—¶é•¿ï¼š</strong> [è¿”ç¨‹æ—¶é•¿]</p>\n    <p style=\"margin:5px 0;font-size:14px;\"><strong>ç»åœï¼š</strong> [è¿”ç¨‹ç»åœä¿¡æ¯]</p>\n  </div>\n  \n  <div style=\"text-align:center;margin:20px 0;padding:15px;background:#fff3cd;border-radius:8px;\">\n    <p style=\"margin:0 0 10px 0;font-size:18px;font-weight:bold;\"><strong>ğŸ’° æ€»ä»·ï¼š$[æ€»ä»·]</strong></p>\n    <p style=\"margin:0;color:#666;font-size:14px;\">åŒ…å« [æˆäººæ•°é‡] åæˆäºº + [å„¿ç«¥æ•°é‡] åå„¿ç«¥</p>\n  </div>\n  \n  <p style=\"margin:15px 0;font-size:16px;line-height:1.6;color:#333;\">[è¯¦ç»†è¯´æ˜ä¸ºä½•è¯¥èˆªç­ä¸ºæœ€ä½³é€‰æ‹©]</p>\n  \n  <div style=\"text-align:center;margin:20px 0;\">\n    <a href=\"[GOOGLE_FLIGHTS_URL]\" style=\"background:#1e88e5;color:white;padding:15px 30px;text-decoration:none;border-radius:8px;display:inline-block;font-size:16px;font-weight:bold;box-shadow:0 2px 4px rgba(0,0,0,0.2);\">âœˆï¸ å‰å¾€ Google Flights é¢„è®¢</a>\n  </div>\n</div>\n```\n\n4. **é‚®ä»¶é¡µè„š**ï¼š\n- ä¸“ä¸šç»“æŸè¯­\n- è”ç³»ä¿¡æ¯\n- æ—…è¡Œæç¤ºæˆ–é¢„è®¢æé†’\n\n**è¾“å‡ºè¦æ±‚ï¼š**\n- ç›´æ¥è¾“å‡ºå®Œæ•´HTMLï¼Œä¸è¦ä»»ä½•```html```æ ‡è®°\n- ä¸è¦åŒ…å«---åˆ†éš”ç¬¦\n- ç¡®ä¿æ‰€æœ‰å†…å®¹å±…ä¸­å¯¹é½ï¼ˆé™¤äº†å¡ç‰‡å†…çš„è¯¦ç»†ä¿¡æ¯ï¼‰\n- ä½¿ç”¨ç»Ÿä¸€çš„å­—ä½“å’Œé¢œè‰²æ–¹æ¡ˆ"
            },
            {
              "content": "èˆªç­æ¨èæ ·å¼è§„èŒƒï¼š\n\n**æ•´ä½“å¸ƒå±€ï¼š**\n- æœ€å¤§å®½åº¦ï¼š600px\n- å±…ä¸­å¯¹é½ï¼šmargin: 0 auto\n- å†…è¾¹è·ï¼š20px\n- èƒŒæ™¯è‰²ï¼š#f8f9fa\n\n**å­—ä½“è§„èŒƒï¼š**\n- ä¸»å­—ä½“ï¼šArial, sans-serif\n- æ ‡é¢˜ï¼š24px, 18px\n- æ­£æ–‡ï¼š16px, 14px\n- è¡Œé«˜ï¼š1.6\n\n**é¢œè‰²æ–¹æ¡ˆï¼š**\n- ä¸»è‰²è°ƒï¼š#1e88e5ï¼ˆè“è‰²ï¼‰\n- æ–‡å­—ï¼š#333ï¼ˆæ·±ç°ï¼‰\n- æ¬¡è¦æ–‡å­—ï¼š#666ï¼ˆä¸­ç°ï¼‰\n- ä»·æ ¼èƒŒæ™¯ï¼š#fff3cdï¼ˆæµ…é»„ï¼‰\n\n**å¯¹é½è¦æ±‚ï¼š**\n- é‚®ä»¶æ ‡é¢˜ï¼šå±…ä¸­\n- é—®å€™è¯­ï¼šå±…ä¸­\n- è¡Œç¨‹ä¿¡æ¯ï¼šå±…ä¸­\n- èˆªç­å¡ç‰‡ï¼šå±…ä¸­\n- å¡ç‰‡å†…è¯¦ç»†ä¿¡æ¯ï¼šå·¦å¯¹é½\n- é¢„è®¢æŒ‰é’®ï¼šå±…ä¸­\n- é¡µè„šï¼šå±…ä¸­\n\n**åˆ†ææŒ‡å—ï¼š**\n- æƒè¡¡æ€»æ—…è¡Œæ—¶é—´ä¸ä»·æ ¼\n- è€ƒè™‘ç»åœä¾¿åˆ©æ€§ä¸æ—¶é•¿\n- å…³æ³¨èµ·é™æ—¶é—´åå¥½\n- è€ƒè™‘èˆªå¸å¯é æ€§ä¸å£ç¢‘\n- ç»¼åˆè¡Œææ”¿ç­–\n- è¯´æ˜ä¸ºä½•è¯¥èˆªç­ä¼˜äºæ›¿ä»£æ–¹æ¡ˆ\n- è€ƒè™‘æ—¶åŒºå·®å¼‚\n- è€ƒè™‘æœºåœºé€šè¾¾æ€§\n\n**é‡è¦æé†’ï¼š**\n- ä¸è¦ä½¿ç”¨Markdownæ ¼å¼\n- ä¸è¦åŒ…å«ä»£ç å—æ ‡è®°\n- ä¸è¦æ·»åŠ åˆ†éš”ç¬¦\n- ç¡®ä¿HTMLæ ¼å¼æ­£ç¡®\n- æ‰€æœ‰æ ·å¼ä½¿ç”¨å†…è”CSS"
            },
            {
              "content": "èˆªç­æ¨èè¾“å‡ºæ ¼å¼è¦æ±‚ï¼š\n\n**ä¸¥æ ¼éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š**\n\n1. **ç›´æ¥è¾“å‡ºHTML**ï¼šä¸è¦åŒ…å«```html```ã€```ã€---ç­‰ä»»ä½•æ ‡è®°\n2. **å®Œæ•´HTMLæ–‡æ¡£**ï¼šä»<!DOCTYPE html>å¼€å§‹ï¼Œåˆ°</html>ç»“æŸ\n3. **å†…å®¹å±…ä¸­**ï¼šé™¤äº†å¡ç‰‡å†…çš„è¯¦ç»†ä¿¡æ¯å¤–ï¼Œæ‰€æœ‰å†…å®¹éƒ½è¦å±…ä¸­å¯¹é½\n4. **ç»Ÿä¸€æ’ç‰ˆ**ï¼šä½¿ç”¨ä¸€è‡´çš„å­—ä½“å¤§å°ã€é¢œè‰²å’Œé—´è·\n5. **ç§»åŠ¨ç«¯å‹å¥½**ï¼šç¡®ä¿åœ¨æ‰‹æœºä¸Šä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤º\n\n**ç¦æ­¢åŒ…å«ï¼š**\n- Markdownä»£ç å—æ ‡è®°\n- åˆ†éš”ç¬¦ï¼ˆ---ï¼‰\n- å¤šä½™çš„HTMLæ ‡è®°\n- ä¸è§„èŒƒçš„ç¼©è¿›\n\n**å¿…é¡»åŒ…å«ï¼š**\n- å®Œæ•´çš„HTMLæ–‡æ¡£ç»“æ„\n- ä¸“ä¸šçš„é‚®ä»¶æ ·å¼\n- å±…ä¸­å¯¹é½çš„å¸ƒå±€\n- æ¸…æ™°çš„èˆªç­æ¨èä¿¡æ¯\n- å¯ç‚¹å‡»çš„é¢„è®¢é“¾æ¥\n- ä»·æ ¼ä¿¡æ¯çªå‡ºæ˜¾ç¤º\n\n**ç¤ºä¾‹è¾“å‡ºæ ¼å¼ï¼š**\nç›´æ¥ä»¥<!DOCTYPE html>å¼€å¤´ï¼Œä»¥</html>ç»“å°¾ï¼Œä¸­é—´åŒ…å«å®Œæ•´çš„é‚®ä»¶å†…å®¹ï¼Œä¸è¦ä»»ä½•é¢å¤–æ ‡è®°ã€‚"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGemini",
      "typeVersion": 1,
      "position": [
        224,
        -160
      ],
      "id": "22925537-0469-4dcc-8319-d7336a09ef6d",
      "name": "å°† JSON æç‚¼ä¸ºèˆªç­æ¨èé‚®ä»¶",
      "credentials": {
        "googlePalmApi": {
          "id": "12KiryYsMrX43jr6",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "On form submission": {
      "main": [
        [
          {
            "node": "Extract form submission to JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google_flights search": {
      "main": [
        [
          {
            "node": "Take JSON key",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download the snapshot content": {
      "main": [
        [
          {
            "node": "Extract from scrape to email ready to send",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "StatusCheck": {
      "main": [
        [
          {
            "node": "Wait before download the snapshot",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Wait loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract form submission to JSON": {
      "main": [
        [
          {
            "node": "Parse JSON",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse JSON": {
      "main": [
        [
          {
            "node": "Google_flights search",
            "type": "main",
            "index": 0
          },
          {
            "node": "Bright data : Airbnb Properties Information - discover by location",
            "type": "main",
            "index": 0
          },
          {
            "node": "Bright Data : Booking Hotel Listings with Pricing - discover by search input",
            "type": "main",
            "index": 0
          },
          {
            "node": "Bright Data : Agoda Properties Listings with Pricing - discover by search input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Bright data : Airbnb Properties Information - discover by location": {
      "main": [
        [
          {
            "node": "Combine to get a snapshot first",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Bright Data : Booking Hotel Listings with Pricing - discover by search input": {
      "main": [
        [
          {
            "node": "Combine to get a snapshot first",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Sequential polling with loop": {
      "main": [
        [],
        [
          {
            "node": "Check the status snapshot",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check the status snapshot": {
      "main": [
        [
          {
            "node": "StatusCheck",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Bright Data : Agoda Properties Listings with Pricing - discover by search input": {
      "main": [
        [
          {
            "node": "Combine to get a snapshot first",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Combine to get a snapshot first": {
      "main": [
        [
          {
            "node": "Put airbnb snapshot_id",
            "type": "main",
            "index": 0
          },
          {
            "node": "Put booking snapshot_id",
            "type": "main",
            "index": 0
          },
          {
            "node": "Put agoda snapshot_id",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Put airbnb snapshot_id": {
      "main": [
        [
          {
            "node": "Sequential polling with loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Put booking snapshot_id": {
      "main": [
        [
          {
            "node": "Sequential polling with loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Put agoda snapshot_id": {
      "main": [
        [
          {
            "node": "Sequential polling with loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Check snapshot again for success": {
      "main": [
        [
          {
            "node": "Sequential polling with loop",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait loop": {
      "main": [
        [
          {
            "node": "Check snapshot again for success",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract from scrape to email ready to send": {
      "main": [
        [
          {
            "node": "Take AI result",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Take AI result": {
      "main": [
        [
          {
            "node": "Combine all AI result",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Checking loop finish": {
      "main": [
        [
          {
            "node": "Take hotel_recommendation in JSON to before send to email",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Combine all AI result": {
      "main": [
        [
          {
            "node": "Checking loop finish",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Take hotel_recommendation in JSON to before send to email": {
      "main": [
        [
          {
            "node": "Send hotel recommendation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait before download the snapshot": {
      "main": [
        [
          {
            "node": "Download the snapshot content",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Take JSON key": {
      "main": [
        [
          {
            "node": "å°† JSON æç‚¼ä¸ºèˆªç­æ¨èé‚®ä»¶",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Take AI result1": {
      "main": [
        [
          {
            "node": "Send Flight Recommendation",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å°† JSON æç‚¼ä¸ºèˆªç­æ¨èé‚®ä»¶": {
      "main": [
        [
          {
            "node": "Take AI result1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "6e56ea87-ba08-4355-a914-5bf087ba783c",
  "meta": {
    "instanceId": "8189043451cb6ebf84725e3e5c4c52a6b6f108808f9b746ade07cb907a172e3d"
  },
  "id": "1F8idACopoHaU9zk",
  "tags": []
}